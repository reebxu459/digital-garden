<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Digital Garden</title>
  <link rel="stylesheet" href="./style.css">
  <style>
    /* Loading screen styles */
    #loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #b9e0e8;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      opacity: 1;
      transition: opacity 0.8s ease-out;
      visibility: visible;
    }
    
    #loading-screen.fade-out {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }
    
    #loading-image-container {
      position: relative;
      display: inline-block;
    }
    
    #loading-image {
      max-width: 200px;
      max-height: 200px;
      width: auto;
      height: auto;
      display: block;
    }
    
    #loading-gradient {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 30px;
      background: linear-gradient(to bottom, transparent, #b9e0e8);
      pointer-events: none;
    }
    
    /* Hide main content initially */
    .page-container {
      opacity: 0;
      transition: opacity 0.7s ease-in;
    }
    
    .page-container.show {
      opacity: 1;
    }
  </style>
  <script>
    // Simple responsive image map scaler
    (function() {
      function scaleMap(img) {
        const mapName = img.getAttribute('usemap');
        if (!mapName) return;
        const map = document.querySelector(`map[name="${mapName.substring(1)}"]`);
        if (!map) return;

        const areas = map.querySelectorAll('area[data-original-coords]');
        const naturalWidth = img.naturalWidth || img.width;
        const naturalHeight = img.naturalHeight || img.height;
        const currentWidth = img.clientWidth;
        const currentHeight = img.clientHeight;
        const scaleX = currentWidth / naturalWidth;
        const scaleY = currentHeight / naturalHeight;

        areas.forEach(area => {
          const original = area.getAttribute('data-original-coords').split(',').map(Number);
          const shape = (area.getAttribute('shape') || '').toLowerCase();
          let scaled;
          if (shape === 'rect') {
            const [x1, y1, x2, y2] = original;
            scaled = [
              Math.round(x1 * scaleX), Math.round(y1 * scaleY),
              Math.round(x2 * scaleX), Math.round(y2 * scaleY)
            ];
          } else if (shape === 'circle') {
            const [cx, cy, r] = original;
            const rScaled = Math.round(r * ((scaleX + scaleY) / 2));
            scaled = [Math.round(cx * scaleX), Math.round(cy * scaleY), rScaled];
          } else if (shape === 'poly') {
            scaled = original.map((v, i) => Math.round(v * (i % 2 === 0 ? scaleX : scaleY)));
          } else {
            scaled = original;
          }
          area.coords = scaled.join(',');
        });
      }

      function initResponsiveMap() {
        const img = document.querySelector('img[usemap]');
        if (!img) return;
        const mapName = img.getAttribute('usemap');
        const map = document.querySelector(`map[name="${mapName.substring(1)}"]`);
        if (!map) return;
        map.querySelectorAll('area').forEach(area => {
          if (!area.hasAttribute('data-original-coords')) {
            area.setAttribute('data-original-coords', area.coords);
          }
        });
        function onReady() { scaleMap(img); }
        if (img.complete) onReady(); else img.addEventListener('load', onReady, { once: true });
        window.addEventListener('resize', () => scaleMap(img));
      }

      document.addEventListener('DOMContentLoaded', initResponsiveMap);
    })();
    
    // Loading screen functionality
    document.addEventListener('DOMContentLoaded', function() {
      const loadingScreen = document.getElementById('loading-screen');
      const pageContainer = document.querySelector('.page-container');
      
      console.log('Loading screen elements found:', { loadingScreen, pageContainer });
      
      if (loadingScreen && pageContainer) {
        console.log('Starting loading screen timer...');
        
        // Show loading screen for 2 seconds, then fade out
        setTimeout(() => {
          console.log('Adding fade-out class...');
          loadingScreen.classList.add('fade-out');
          pageContainer.classList.add('show');
          
          // Remove loading screen from DOM after fade completes
          setTimeout(() => {
            console.log('Removing loading screen from DOM...');
            if (loadingScreen.parentNode) {
              loadingScreen.remove();
            }
          }, 800); // Match the CSS transition duration
        }, 2500); // 2.5 seconds
      } else {
        console.error('Loading screen elements not found!');
      }
    });
  </script>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <link rel="icon" href="./assets/me.png" type="image/png">
  <meta name="description" content="Digital Garden">
  <meta name="robots" content="noindex, nofollow">
  
</head>
<body>
  <!-- Loading screen -->
  <div id="loading-screen">
    <div id="loading-image-container">
      <img src="./assets/the_thinker.gif" alt="Loading..." id="loading-image">
      <div id="loading-gradient"></div>
    </div>
  </div>
  
  <main class="page-container">
    <div class="image-wrapper">
      <div class="stacked-slices">
        <img src="./pages/mainpage/mainpage-header.jpg" alt="Header">
        <img src="./pages/mainpage/mainpage-bow-divider.jpg" alt="Bow divider">
        <a href="./resume.html" target="_blank" aria-label="Open resume">
            <img src="./pages/mainpage/mainpage-resume-button.jpg" alt="Resume button">
        </a>
        <img src="./pages/mainpage/mainpage-plane-divider.jpg" alt="Plane divider">
        <img src="./pages/mainpage/mainpage-bio.jpg" alt="Bio section">
        <img src="./pages/mainpage/mainpage-bow-divider.jpg" alt="Bow divider">
        <img src="./pages/mainpage/mainpage-bio2.jpg" alt="Bio section continued">
        <img src="./pages/mainpage/mainpage-plane-divider.jpg" alt="Plane divider">
        <img src="./pages/mainpage/mainpage-hobbies.jpg" alt="Hobbies">
        <img src="./pages/mainpage/mainpage-bow-divider.jpg" alt="Bow divider">
        <img src="./pages/mainpage/mainpage-food.jpg" alt="Food">
        <img src="./pages/mainpage/mainpage-plane-divider.jpg" alt="Plane divider">

        <!-- Journal Begins -->
        <img src="./pages/mainpage/mainpage-journal-header.jpg" alt="Journal">
        <img src="./pages/journal/journal-roses-divider.jpg" alt="Roses divider">
        <img src="./pages/journal/tools.jpg" alt="Tools Journal Entry">
        <img src="./pages/journal/journal-roses-divider.jpg" alt="Roses divider">

        <!-- Journal Ends -->

        <img src="./pages/mainpage/mainpage-footer.jpg" alt="Footer">
        
    </div>
  </main>
</body>
</html>

